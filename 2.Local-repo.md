# Week-09
#  การทดลองที่ 1 การใช้งาน Repository เบื้องต้น #

### 1.4 สร้าง git บนเครื่องคอมพิวเตอร์ (Local)

Repository ที่สร้างขึ้นในข้อ 1.3 นั้น เป็น repository ที่อยู่บน server ในขณะที่เรากำลังแก้ไข source  code  ซึ่งมักจะเป็นการแก้ไขเล็ก ๆ น้อย ๆ การทำงานของ git จะเน้นทำงานที่ local เป็นหลัก ต่อเมื่อเราได้พัฒนา source code จนถึงจุดหนึ่ง ที่คิดว่าสามารถเผยแพร่ เพื่อการทดสอบหรือใช้งาน เราจึงส่งขึ้นไปเก็บบน  server

การทำสำเนาของ repository มาไว้บนเครื่อง (local)  สามารถทำได้หลายวิธี ซึ่งเบื้องต้นนี้ เราจะศึกษาโดยการใช้งาน command line ซึ่งอาจจะพบกับความยุ่งยากบ้างในตอนแรกๆ แต่เมื่อใช้บ่อย ๆ จนชำนาญจะพบว่ามีความยืดหยุ่นสูงกว่าการใช้ GUI Clients หรือเมื่อศึกษาจนเข้าใจแล้วหันไปใช้ GUI Clients ก็จะสามารถเข้าใจถึงการทำงานของระบบ Git อย่างแท้จริง
1.4.1 การ clone repository ด้วย command line (git bash)
1)	การเตรียมการเบื้องต้น
-	ในหน้าต่าง git bash ให้พิมพ์คำสั่ง list ดูรายการของไฟล์และโฟลเดอร์
```
$ ls
```
เราจะเห็นรายการไฟล์ถูกแสดงขึ้นมา

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น

-	สร้างโฟลเดอร์สำหรับเก็บงานในวิชาการทดลอง (ในที่นี้ชื่อว่า CL2565 ย่อมาจาก Computer Laboratory 2565) โดยใช้คำสั่ง
```
$ mkdir CL2565
```
-	ย้ายเข้าไปอยู่ในโฟลเดอร์ที่สร้างขึ้น โดยใช้คำสั่ง
```
$ cd CL2565
```	
สังเกตุได้จาก  git bash จะแสดงชื่อของโฟลเดอร์ปัจจุบันเป็นดังรูปที่ 1.10


 
 
<p align="center"> <img  src="Pictures/Week09-Pic10.png" alt=""  ></p>

<p align="center"><br> <b> รูปที่ 1.10 </b> หน้าต่าง terminal ของ git bash เตรียมพร้อมสำหรับการ clone 

--- 
__ผลการทดลอง__
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น

---

2)	การทำสำเนา repository มาไว้บนเครื่องโดยการ clone
-	ทำสำเนา repository มาไว้บนเครื่องโดยใช้คำสั่งที่มีรูปแบบดังต่อไปนี้

$ git clone https://github.com/[YOUR USERNAME]/[YOUR REPOSITORY NAME]
[YOUR USERNAME] คือ username ของเราบน github
[YOUR REPOSITORY NAME]คือชื่อ repository ของเราที่สร้างในข้อ 1.3  

ถ้าจำไม่ได้ ก็ไม่เป็นไร ให้เข้าไปที่ repository ที่เพิ่งสร้างบน Github  (ดู<p align="center"><br> <b> รูปที่ 1.9) จะเห็นว่ามี URL ของ repository สำหรับการโคลน ดัง<p align="center"><br> <b> รูปที่ 1.11 ให้เรากดปุ่ม copy ที่อยู่ด้านขวามือของ url
 

 

<p align="center"><br> <b> รูปที่ 1.11 </b>URL สำหรับการ clone repository

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น

-	ใน git bash ให้พิมพ์คำสั่ง git clone ตามด้วย URL ที่คัดลอกมา
-	เมื่อทำการ clone เรียบร้อย จะได้ผลดัง<p align="center"><br> <b> รูปที่ 1.12


 

<p align="center"><br> <b> รูปที่ 1.12 </b>ผลการ clone repository

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


-	เรียกดูรายการโฟลเดอร์ (ด้วยคำสั่ง ls) และเปลี่ยนโฟลเดอร์ (ด้วยคำสั่ง change directory :cd)

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


ตอนแรกจะพบว่ามีโฟลเดอร์ชื่อ CL64-01 ซึ่งถูก clone มาจาก server จึงย้ายเข้าไปในโฟลเดอร์นั้น แล้วจึงสั่ง ls เพื่อดูรายการไฟล์ พบว่า repository ของเราจะยังว่างเปล่า ดัง<p align="center"><br> <b> รูปที่ 1.13
 
  
<p align="center"><br> <b> รูปที่ 1.13 </b>ไฟล์ที่ถูก clone มาจาก repository

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


-	ให้พิมคำสั่งต่อไปนี้ ครั้งละบรรทัด (พิมพ์ให้ครบบรรทัดแล้วเคาะ enter)

 

<p align="center"><br> <b> รูปที่ 1.14 </b>การเพิ่มไฟล์ README.md ให้กับ repository

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


จาก<p align="center"><br> <b> รูปที่ 1.14 จะได้ผลการทำงานดัง<p align="center"><br> <b> รูปที่ 1.15 ซึ่งจะเห็นว่า บางคำสั่งอาจจะมี error เกิดขึ้น เนื่องจากมี repository อยู่บน server แล้ว แต่ก็ให้ทำให้ครบทุกขั้นตอนไปก่อน เพราะ ในกรณีนี้  error เหล่านั้นไม่ส่งผลกระทบร้ายแรงต่อการทำงาน
-	ให้กลับไปที่ browser และกด refresh 1 ครั้ง จะเห็นว่าหน้า repository ที่เราเพิ่งสร้าง จะเปลี่ยนไป

 


<p align="center"><br> <b> รูปที่ 1.15 </b>หน้าเพจ repository ที่เปลี่ยนไปหลังจากเพิ่มไฟล์ README.md

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น

### 1.5 การแก้ไขงานและบันทึกการเปลี่ยนแปลงบน local computer
	ถึงตอนนี้ เนื้อหาในไฟล์ README.md บน server และ local computer จะเหมือนกันทุกประการ เนื่องจากเป็นการ clone มาและยังไม่ได้ทำการแก้ไขใดๆ อีกทั้งเรามั่นใจว่าไม่มีผู้ใช้คนอื่นๆ กำลังแก้ไขงานของเราบน server  (ซึ่งการแก้ไขงานร่วมกันบน server จะอยู่ในการทดลองถัดไป)  เราสามารถแก้ไขและทำ revision ของเอกสารได้ตามต้องการ โดยการเปลี่ยนแปลงต่างๆ จะเกิดขึ้นบนเครื่อง  local computer เท่านั้น
1.5.1 ทดลองแก้ไขไฟล์ README.md
	โดยส่วนใหญ่ ในการเขียนโปรแกรม มักจะกระทำบนโปรแกรม Integrated development environment หรือเรียกสั้นๆ ว่า IDE  แต่ในการทดลองนี้ จะใช้โปรแกรมแก้ไขเอกสารอย่างง่ายๆ นั่นคือโปรแกรม Notepad.exe
-	ให้พิมพ์คำสั่งต่อไปนี้ลงใน  git bash

$ notepad README.md
ระบบจะเปิด text editor ที่มากับระบบปฏิบัติการ Windows ดังรูปที่ 16

 

<p align="center"><br> <b> รูปที่ 1.16 </b>การใช้โปรแกรม notepad.exe แก้ไขไฟล์ README.md

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น

-	แก้ไขไฟล์ README.md  ใน notepad  โดยเพิ่มข้อความลงไปดังตัวอย่าง (ให้นักศึกษาใส่ชื่อตนเอง)

 

<p align="center"><br> <b> รูปที่ 1.17 </b>แก้ไขไฟล์ README.md โดยเพิ่มบรรทัดต่อท้ายเข้าไป

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น

-	บันทึกและปิดโปรแกรม notepad.exe
-	ตรวจสอบการเปลี่ยนแปลงใน git bash โดยพิมพ์คำสั่ง git status แล้วสังเกตุผลที่ได้จากการรันคำสั่ง

$ git status
	
 
<p align="center"><br> <b> รูปที่ 1.18 </b>การตรวจสอบสถานะของ git

จะพบว่า git  ได้ทำการติดตามการเปลี่ยนแปลง  (tracking)  ของไฟล์ต่างๆ ใน repository ของเราอยู่เสมอ ถึงแม้จะเป็น local computer ก็ตาม (ไม่นับไฟล์ใน .gitignore)

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น

1.5.2 บันทึกการเปลี่ยนแปลงบน local computer
ถึงตรงนี้ ถ้าเราต้องการจะแก้ไขต่อ ก็สามารถทำได้ แต่การเปลี่ยนแปลงต่างๆ จะไม่สามารถถูกติดตามโดย git ถ้าต้องการให้ git บันทึก (หรือนับ) การเปลี่ยนแปลงเป็นรุ่นหนึ่งๆ ของ source code สามารถทำได้โดยการ commit การเปลี่ยนแปลงลงใน local repository ซึ่งการใช้งานเบื้องต้นจะมี 2 คำสั่งคือ git add และ git commit
-	เพิ่มไฟล์ที่เปลี่ยนแปลง เข้าสู่รายการ commit โดยใช้คำสั่งต่อไปนี้
$ git add README.md
	 ตรวจสอบการเปลี่ยนแปลงใน git bash โดยพิมพ์คำสั่ง git status แล้วสังเกตุผลที่ได้จากการรันคำสั่ง

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


$ git status

 

<p align="center"><br> <b> รูปที่ 1.19 </b>การตรวจสอบสถานะของ git / ผลจากการทำคำสั่ง git add  

หมายเหตุ หากมีการแก้ไขหลายๆ ไฟล์ เราอาจใช้คำสั่ง  git add --all แทนการใช้ชื่อไฟล์ได้
-	Commit ไฟล์ที่เปลี่ยนแปลง เข้าสู่ repository โดยใช้คำสั่งต่อไปนี้

$ git commit -m “Edited by Koson”

ตามด้วยการตรวจสอบสถานะของ repository

$ git status

จะได้ผลดังนี้

 

<p align="center"><br> <b> รูปที่ 1.20 </b>ผลจากการทำ git commit  

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


หมายเหตุ  รูปแบบของการ commit ประกอบด้วย คำสั่ง  git commit -m “THIS IS A COMMIT MESSAGE” โดยที่ commit message ควรเป็นข้อความที่สื่อความหมาย มีความยาวไม่มากนัก แต่ไม่สั้นจนเกินไป ควรหลีกเลี่ยงคำทีไม่สื่อความหมาย เช่น “1”, “2”  หรือ “a” ถึงแม้ว่า git จะอนุญาตให้ใช้ก็ตาม เนื่องจากเมื่อพัฒนาไปหลายๆ รุ่น จะไม่สามารถทำความเข้าใจเหตุผลที่แก้ไข source code นั้น ๆ ได้ และในการเปลี่ยนแปลงแต่ละครั้ง git จะนำ commit message นี้ไปใช้ร่วมกับการเปลี่ยนแปลงเสมอ
### 1.6 การซิงค์การเปลี่ยนแปลงระหว่าง local computer และ server
	หลังจากที่เราได้ทำการ  clone repository มาที่ local  computer แล้ว การแก้ไขงานทั้งหมด สามารถทำได้บน local computer ได้โดยไม่ต้องเชื่อมต่อกับ server แต่ในบางครั้งที่มีการทำงานร่วมกันเป็นทีม จะต้องปรับปรุง source code ให้เป็นปัจจุบันอยู่เสมอ จะต้องมีการ sync กับ server ได้แก่การ upload การเปลี่ยนแปลงขึ้นสู่ server (เรียกว่าการ push) และการ download การเปลี่ยนแปลงมาจาก server (เรียกว่าการ pull)

1.6.1 การ push ขึ้นสู่ server
โดยทั่วไป การที่จะ push ขึ้นสู่ server เรามักจะใช้คำสั่ง 3 คำสั่งควบคู่กันคือ (1) git add --all,  (2) git commit -m “Commit message” และ (3) git push แต่ในการทดลองที่ผ่านมา เราทำใน (1) และ (2) ไปแล้ว ดังนั้น ให้พิมพ์คำสั่งต่อไปนี้ เพื่อ push repository ขึ้น server

$ git push
จะได้ผลลัพธ์คล้ายตัวอย่างในรูปที่ 20

 

<p align="center"><br> <b> รูปที่ 1.21 </b>ผลจากการทำคำสั่ง git push

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


	เมื่อเราทำการ push repository ขึ้นสู่ server แล้ว ก็ต้องทดสอบผลจากการ push  โดยการไป refresh web browser ที่สร้าง repository ไว้ ดังรูปที่ 15

 

<p align="center"><br> <b> รูปที่ 1.22 </b>การเปลี่ยนแปลงที่เกิดขึ้นบน server


ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


1.6.2 การ pull มาจาก server
-	การเปลี่ยนแปลงใดๆ ที่เกิดขึ้นบน local computer จะถูกส่งขึ้นมาเก็บด้วยคำสั่ง git push และถ้ามีการแก้ไขไฟล์ใด ๆ เกิดขึ้นบน server เราก็สามารถที่จะดึงกลับไปทำงานที่ local computer ได้เช่นกัน 
-	ให้แก้ไขไฟล์ README.md โดยการคลิกที่ชื่อไฟล์ และปุ่มปากกาบริเวณด้านขวามือ

 

<p align="center"><br> <b> รูปที่ 1.23 </b>เข้าสู่โหมดการแก้ไขไฟล์ด้วย Github Text Editor

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


-	เพิ่มข้อความที่บรรทัดล่างสุดดังตัวอย่าง


 

<p align="center"><br> <b> รูปที่ 1.24 </b>เพิ่มข้อความบางอย่างใน Github Text Editor

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


-	เพิ่มข้อความในช่อง Commit changes และกดปุ่ม Commit changes สีเขียว

 

<p align="center"><br> <b> รูปที่ 1.25 </b>เพิ่มข้อความ Commit changes

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


-	กลับมาที่ git bash พิมพ์คำสั่ง git status สังเกตุผลการทำงาน

$ git status

-	ที่ git bash พิมพ์คำสั่ง git pull 

$ git pull


 

<p align="center"><br> <b> รูปที่ 1.26 </b>การใช้คำสั่ง git pull

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


-	ดูการเปลี่ยนแปลงในไฟล์ README.md

$ notepad.exe README.md

 

<p align="center"><br> <b> รูปที่ 1.27 </b></b>การเปลี่ยนแปลงในไฟล์เอกสาร  README.md

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


### 1.7 การตรวจสอบประวัติการเปลี่ยนแปลงของไฟล์

-	กลับไปที่ web browser  (1) คลิกที่ชื่อ repository,  (2) คลิกที่ชื่อไฟล์ README.md (3) คลิกปุ่ม History

1 
 
	2.
 
	3. 
 

<p align="center"><br> <b> รูปที่ 1.28 </b>การเข้าถึงประวัติของไฟล์
เมื่อคลิกดูประวัติไฟล์ จะพบว่า  ไม่ว่าเราจะแก้ไขไฟล์ที่ไหน แต่ Git จะติดตามและบันทึกการเปลี่ยนแปลงทุกครั้งที่เราทำการ commit

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น



 


<p align="center"><br> <b> รูปที่ 1.29 </b>รายการประวัติการแก้ไขไฟล์

ผลการทดลอง
ให้นักศึกษา  capture  หน้าจอของตนเองมาใส่ และอธิบายสั้นๆ ถึงสิ่งที่เกิดขึ้น


	ให้คลิกปุ่มที่มีเลขฐาน 16 กำกับ (เป็นชื่อรหัสกำกับการแก้ไข ที่ทีมพัฒนาจะใช้อ้างอิงถึง) ตามลูกศรสีแดงในรูปที่ี 29 เราจะเห็นประวัติการแก้ไขไฟล์ ดังรูปที่ 30


 

<p align="center"><br> <b> รูปที่ 1.30 </b>ประวัติการแก้ไขไฟล์

## แบบฝึกหัด
1.	ให้นักศึกษาทดลองเพิ่มไฟล์ชื่อ  student.txt ลงใน repository  แล้วเพิ่มรายชื่อเพื่อนในห้อง โดยเพิ่มบน notepad จำนวนครึ่งหนึ่ง และทำบน github text editor จนครบ โดยให้เขียน commit message ด้วยว่าเพิ่มจากที่ใด
2.	ให้นักศึกษาทดลองแก้ไขไฟล์ README.md ตามตารางต่อไปนี้ แล้วทำรายงานประวัติไฟล์มาส่ง
	
ลำดับที่	สถานที่แก้ไข	สิ่งที่กระทำ
1 Local (Notepad)	ลบเนื้อหาเดิมออกทั้งหมด
2 Server (Github Text Editor)	#include < stdio.h >
``` c
main()
{
        printf ("hello, world\n");
}
```
3 Local (Notepad)	เปลี่ยน 
```c
 printf("hello, world\n");`
```
เป็น
```c
 printf("hello, [ชื่อนักศึกษา]\n");

```
4 Server (Github Text Editor)	
```c
#include <stdio.h>
int main ()
{
   char yourname[100];
   printf("What is your name?\t");
   scanf("%s",yourname);
    printf("hello, %s\n", yourname);
}

```
5	Local (Notepad)	เพิ่ม printf("Goodbye\n"); 
ใต้ printf("hello, %s\n", yourname);

หมายเหตุ การทำแต่ละขั้น ให้ local และ server ซิงค์กันเสมอ (ต้อง push, pull, commit, add )

คำถาม

1.	จากภาพที่ 29 ถ้าหากนักศึกษาคลิกตามปุ่ม ที่มีเลขฐานสิบหกกำกับอยู่ ทุกปุ่ม จะได้ผลอย่างไรบ้าง ให้อธิบายสิ่งที่พบเห็น
2.	ให้บอกประโยชน์ของ repository ตามที่นักศึกษาเข้าใจ
3.	ให้บอกแนวทางการนำ repository ไปใช้ในการเรียนหรือชีวิตประจำวันของนักศึกษา
